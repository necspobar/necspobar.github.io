<!DOCTYPE html>
<html lang="jp">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <title>liff_init</title>
</head>

<body>
    <div>liff_init_test</div>
    <div id="1"></div>
    <div id="2"></div>
    <p>2</p>

    <script>
        // Promiseオブジェクトを使用する方法
        liff.init({
            liffId: "1655193965-8gxR9Y0p" // Use own liffId
        }).then(() => {
            // Start to use liff's api
            console.log(liff.getOS())
            document.getElementById("1").innerText = `
                ${liff.getOS()}
                ${liff.isInClient()}
                ${liff.getIDToken()}
            `
            liff.getProfile().then((res) => {
                document.getElementById("2").innerText = JSON.parse(res);
            }).catch((err) => {
                document.getElementById("2").innerText = "ERROR2";
            })
        }).catch((err) => {
            // Error happens during initialization
            console.log(err.code, err.message);
        });
    </script>
</body>

</html>
